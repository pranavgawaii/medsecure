module.exports=[71727,25015,48124,2649,63155,22874,68221,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);a.s(["Radio",()=>c],71727);let d=(0,b.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);a.s(["Play",()=>d],25015);let e=(0,b.default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);a.s(["Square",()=>e],48124);var f=a.i(87924),g=a.i(72131),h=a.i(3130),i=a.i(40695),j=a.i(5522),k=a.i(92e3);let l=(0,b.default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var m=a.i(43108);function n(a){let b=[];return(a.heartRate<40||a.heartRate>180)&&b.push(`Heart rate ${a.heartRate} bpm is out of valid range (40-180)`),(a.spo2<60||a.spo2>100)&&b.push(`SpO2 ${a.spo2}% is out of valid range (60-100)`),(a.systolicBp<40||a.systolicBp>250)&&b.push(`Systolic BP ${a.systolicBp} mmHg is out of valid range (40-250)`),(a.diastolicBp<20||a.diastolicBp>150)&&b.push(`Diastolic BP ${a.diastolicBp} mmHg is out of valid range (20-150)`),a.systolicBp<a.diastolicBp&&b.push(`Systolic BP (${a.systolicBp}) cannot be less than Diastolic BP (${a.diastolicBp})`),(a.temperature<32||a.temperature>42)&&b.push(`Temperature ${a.temperature}\xb0C is out of valid range (32-42)`),{isValid:0===b.length,errors:b}}function o({patientId:a,ambulanceId:b,onTransmitSuccess:c}){let[d,e]=(0,g.useState)({heartRate:72,spo2:98,systolicBp:120,diastolicBp:80,temperature:37.2}),[o,p]=(0,g.useState)(!1),[q,r]=(0,g.useState)(null),[s,t]=(0,g.useState)([]),u=a=>{let{name:b,value:c}=a.target,f=Number.parseFloat(c);e(a=>({...a,[b]:f}));let g=n({...d,[b]:f});g.isValid?t([]):t(g.errors)},v=async e=>{e.preventDefault(),p(!0),r(null);let f=n(d);if(!f.isValid){r({type:"error",text:"Cannot transmit: "+f.errors[0]}),t(f.errors),p(!1);return}try{let e=await fetch("/api/vitals/transmit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:a,ambulanceId:b,...d})}),f=await e.json();e.ok?(r({type:"success",text:`Vitals transmitted securely (encrypted). Status: ${f.classification.status}. Vital ID: ${f.vitalId}`}),t([]),c()):(r({type:"error",text:f.error||"Failed to transmit vitals"}),f.details&&t(Array.isArray(f.details)?f.details:[f.details]))}catch(a){r({type:"error",text:"Error transmitting vitals: "+(a instanceof Error?a.message:"Unknown error")})}finally{p(!1)}};return(0,f.jsxs)(h.Card,{children:[(0,f.jsx)(h.CardHeader,{children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)(h.CardTitle,{children:"Manual Vital Transmission"}),(0,f.jsxs)("div",{className:"flex items-center gap-1 text-xs bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:[(0,f.jsx)(m.Lock,{className:"w-3 h-3"}),(0,f.jsx)("span",{children:"Encrypted"})]})]})}),(0,f.jsx)(h.CardContent,{children:(0,f.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"text-sm font-medium text-foreground block mb-1",children:["Heart Rate (bpm) ",(0,f.jsx)("span",{className:"text-xs text-muted-foreground",children:"(40-180)"})]}),(0,f.jsx)(j.Input,{type:"number",name:"heartRate",value:d.heartRate,onChange:u,min:"40",max:"180",step:"1",required:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"text-sm font-medium text-foreground block mb-1",children:["SpO₂ (%) ",(0,f.jsx)("span",{className:"text-xs text-muted-foreground",children:"(60-100)"})]}),(0,f.jsx)(j.Input,{type:"number",name:"spo2",value:d.spo2,onChange:u,min:"60",max:"100",step:"0.1",required:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"text-sm font-medium text-foreground block mb-1",children:["Systolic BP (mmHg) ",(0,f.jsx)("span",{className:"text-xs text-muted-foreground",children:"(40-250)"})]}),(0,f.jsx)(j.Input,{type:"number",name:"systolicBp",value:d.systolicBp,onChange:u,min:"40",max:"250",step:"1",required:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"text-sm font-medium text-foreground block mb-1",children:["Diastolic BP (mmHg) ",(0,f.jsx)("span",{className:"text-xs text-muted-foreground",children:"(20-150)"})]}),(0,f.jsx)(j.Input,{type:"number",name:"diastolicBp",value:d.diastolicBp,onChange:u,min:"20",max:"150",step:"1",required:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"text-sm font-medium text-foreground block mb-1",children:["Temperature (°C) ",(0,f.jsx)("span",{className:"text-xs text-muted-foreground",children:"(32-42)"})]}),(0,f.jsx)(j.Input,{type:"number",name:"temperature",value:d.temperature,onChange:u,min:"32",max:"42",step:"0.1",required:!0})]})]}),s.length>0&&(0,f.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-3 rounded-md text-sm space-y-1",children:s.map((a,b)=>(0,f.jsxs)("div",{className:"flex items-start gap-2",children:[(0,f.jsx)(k.AlertCircle,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,f.jsx)("span",{children:a})]},b))}),(0,f.jsx)(i.Button,{type:"submit",disabled:o||s.length>0,className:"w-full",children:o?"Encrypting & Transmitting...":"Transmit Vitals (Encrypted)"}),q&&(0,f.jsxs)("div",{className:`flex items-start gap-2 p-3 rounded-md ${"success"===q.type?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300":"error"===q.type?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300":"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300"}`,children:["success"===q.type?(0,f.jsx)(l,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}):(0,f.jsx)(k.AlertCircle,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,f.jsx)("span",{className:"text-sm",children:q.text})]})]})})]})}a.s(["VitalsForm",()=>o],2649);var p=a.i(90669);let q=(0,b.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function r({isRunning:a,transmissionCount:b,lastTransmissionTime:c}){return(0,f.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pt-2",children:[(0,f.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,f.jsx)(p.Activity,{className:"w-4 h-4 text-muted-foreground"}),(0,f.jsx)("p",{className:"text-xs text-muted-foreground",children:"Status"})]}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500 animate-pulse":"bg-gray-500"}`}),(0,f.jsx)("span",{className:"text-sm font-semibold",children:a?"Running":"Stopped"})]})]}),(0,f.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,f.jsx)(q,{className:"w-4 h-4 text-muted-foreground"}),(0,f.jsx)("p",{className:"text-xs text-muted-foreground",children:"Transmissions"})]}),(0,f.jsx)("p",{className:"text-sm font-semibold",children:b})]}),(0,f.jsxs)("div",{className:"p-3 bg-muted rounded-lg col-span-2 md:col-span-1",children:[(0,f.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Last Transmission"}),(0,f.jsx)("p",{className:"text-sm font-semibold",children:c||"Never"})]})]})}a.s(["SimulationStatus",()=>r],63155);let s=(0,b.default)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);function t(){let[a,b]=(0,g.useState)("checking"),[c,d]=(0,g.useState)("");return(0,g.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/vitals/latest?patientId=PAT001");a.ok||404===a.status?(b("connected"),d("Database connected successfully"),console.log("[v0] Database connection verified")):500===a.status&&(b("disconnected"),d("Database not initialized. Please initialize from home page."),console.error("[v0] Database connection failed"))}catch(a){b("disconnected"),d("Cannot connect to database. Please check your connection."),console.error("[v0] Database check error:",a)}})()},[]),(0,f.jsxs)(h.Card,{className:`border-2 ${"connected"===a?"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/10":"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10"}`,children:[(0,f.jsx)(h.CardHeader,{children:(0,f.jsxs)(h.CardTitle,{className:"flex items-center gap-2 text-base",children:["checking"===a&&(0,f.jsx)(s,{className:"w-4 h-4 animate-spin text-yellow-600 dark:text-yellow-400"}),"connected"===a&&(0,f.jsx)(l,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"disconnected"===a&&(0,f.jsx)(k.AlertCircle,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),"Database Connection"]})}),(0,f.jsx)(h.CardContent,{children:(0,f.jsxs)("p",{className:`text-sm ${"connected"===a?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300"}`,children:["checking"===a&&"Checking database connection...","connected"===a&&c,"disconnected"===a&&c]})})]})}a.s(["DatabaseStatus",()=>t],22874);var u=a.i(54161);let v=(0,b.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),w=(0,b.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function x(){let[a,b]=(0,g.useState)("PAT001"),[c,d]=(0,g.useState)(null),[e,j]=(0,g.useState)(!1),[n,o]=(0,g.useState)(!1),[p,q]=(0,g.useState)(!0),r=async()=>{j(!0);try{let b=await fetch(`/api/vitals/verify-encryption?patientId=${a}`),c=await b.json();d(c),console.log("[v0] Verification result:",c)}catch(a){console.error("[v0] Verification failed:",a),d({error:"Failed to verify encryption"})}finally{j(!1)}};return(0,f.jsxs)(h.Card,{children:[(0,f.jsx)(h.CardHeader,{children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)(m.Lock,{className:"w-5 h-5 text-primary"}),(0,f.jsx)(h.CardTitle,{children:"Encryption Verification"})]}),(0,f.jsx)(u.Badge,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",children:"AES-256-GCM"})]})}),(0,f.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-medium text-foreground block mb-2",children:"Select Patient to Verify"}),(0,f.jsxs)("div",{className:"flex gap-2",children:[(0,f.jsxs)("select",{value:a,onChange:a=>b(a.target.value),disabled:e,className:"flex-1 px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[(0,f.jsx)("option",{value:"PAT001",children:"John Doe (PAT001)"}),(0,f.jsx)("option",{value:"PAT002",children:"Jane Smith (PAT002)"}),(0,f.jsx)("option",{value:"PAT003",children:"Michael Johnson (PAT003)"})]}),(0,f.jsx)(i.Button,{onClick:r,disabled:e,className:"gap-2",children:e?"Verifying...":"Verify"})]})]}),c&&(0,f.jsx)("div",{className:"space-y-4",children:c.error?(0,f.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-3 rounded-md flex items-start gap-2",children:[(0,f.jsx)(k.AlertCircle,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,f.jsx)("span",{className:"text-sm",children:c.error})]}):c.success?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 p-3 rounded-md flex items-start gap-2",children:[(0,f.jsx)(l,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,f.jsx)("span",{className:"text-sm font-medium",children:c.message})]}),(0,f.jsxs)("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Vital ID"}),(0,f.jsx)("p",{className:"text-sm font-mono",children:c.vital.id})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Encryption Status"}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsxs)(u.Badge,{className:"bg-green-500",children:[(0,f.jsx)(m.Lock,{className:"w-3 h-3 mr-1"}),"Encrypted"]}),(0,f.jsx)("span",{className:"text-sm text-muted-foreground",children:c.vital.verification.encryptionFormat})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,f.jsx)("p",{className:"text-xs font-semibold text-muted-foreground",children:"Encrypted Data in Database"}),(0,f.jsxs)("button",{onClick:()=>o(!n),className:"text-xs text-primary hover:underline flex items-center gap-1",children:[n?(0,f.jsx)(w,{className:"w-3 h-3"}):(0,f.jsx)(v,{className:"w-3 h-3"}),n?"Hide":"Show"]})]}),n&&(0,f.jsx)("div",{className:"bg-background p-2 rounded border border-border text-xs font-mono overflow-x-auto text-muted-foreground",children:c.vital.encryptedDataSample})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,f.jsx)("p",{className:"text-xs font-semibold text-muted-foreground",children:"Decrypted Data (from database)"}),(0,f.jsxs)("button",{onClick:()=>q(!p),className:"text-xs text-primary hover:underline flex items-center gap-1",children:[p?(0,f.jsx)(w,{className:"w-3 h-3"}):(0,f.jsx)(v,{className:"w-3 h-3"}),p?"Hide":"Show"]})]}),p&&(0,f.jsx)("div",{className:"bg-background p-2 rounded border border-border text-xs font-mono overflow-x-auto",children:(0,f.jsx)("pre",{children:JSON.stringify(c.vital.decryptedData,null,2)})})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Plain Text Vitals (in database)"}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,f.jsxs)("div",{className:"bg-background p-2 rounded border border-border text-xs",children:[(0,f.jsx)("p",{className:"text-muted-foreground",children:"Heart Rate"}),(0,f.jsxs)("p",{className:"font-mono font-semibold",children:[c.vital.plainTextVitals.heartRate," bpm"]})]}),(0,f.jsxs)("div",{className:"bg-background p-2 rounded border border-border text-xs",children:[(0,f.jsx)("p",{className:"text-muted-foreground",children:"SpO₂"}),(0,f.jsxs)("p",{className:"font-mono font-semibold",children:[c.vital.plainTextVitals.spo2,"%"]})]})]})]}),(0,f.jsxs)("div",{className:"pt-2 border-t border-border",children:[(0,f.jsx)("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Integrity Verification"}),(0,f.jsxs)("div",{className:"bg-background p-2 rounded border border-border text-xs space-y-1",children:[(0,f.jsxs)("p",{className:"text-muted-foreground",children:[(0,f.jsx)("span",{className:"font-semibold",children:"Encryption Method:"})," ",c.vital.verification.encryptionFormat]}),(0,f.jsxs)("p",{className:"text-muted-foreground",children:[(0,f.jsx)("span",{className:"font-semibold",children:"Integrity Check:"})," ",c.vital.verification.integrity]})]})]})]})]}):(0,f.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300 p-3 rounded-md flex items-start gap-2",children:[(0,f.jsx)(k.AlertCircle,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,f.jsx)("span",{className:"text-sm",children:c.message})]})})]})]})}a.s(["EncryptionDemo",()=>x],68221)}];

//# sourceMappingURL=node_modules_lucide-react_dist_esm_icons_radio_9227ce2a.js.map